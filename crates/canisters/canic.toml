# ================================================================
#  CANIC CONFIGURATION
# ================================================================

# ----------------------------------------------------------------
# Global Settings
# ----------------------------------------------------------------

controllers = []
app_directory = ["scale_hub", "shard_hub"]

[reserve]
minimum_size = 3 # Minimum number of reserved canisters


# ----------------------------------------------------------------
# Standards
# ----------------------------------------------------------------

[standards]
icrc21 = true # Enable ICRC-21 capability


# ----------------------------------------------------------------
# Subnet Definitions
# ----------------------------------------------------------------
# Each subnet defines how its canisters behave and when they top up.
# ----------------------------------------------------------------

# ================================================================
#  PRIME SUBNET
# ================================================================
[subnets.prime]
auto_create = ["app", "auth", "scale_hub", "shard_hub"]
directory = ["app", "auth", "scale_hub", "shard_hub"]

# --- App ---
[subnets.prime.canisters.app]

# --- Auth ---
[subnets.prime.canisters.auth]

# --- Scale Hub ---
[subnets.prime.canisters.scale_hub]
topup.threshold = "10T"
topup.amount = "5T"

# --- Scale Hub Pools ---
[subnets.prime.canisters.scale_hub.scaling.pools.scales]
canister_type = "scale"
policy.min_workers = 2

# --- Scale ---
[subnets.prime.canisters.scale]

# --- Shard Hub ---
[subnets.prime.canisters.shard_hub]
topup.threshold = "10T"
topup.amount = "5T"

# --- Shard Hub Pools ---
[subnets.prime.canisters.shard_hub.sharding.pools.shards]
canister_type = "shard"
policy.initial_capacity = 100
policy.max_shards = 64
policy.growth_threshold_pct = 80

# --- Shard ---
[subnets.prime.canisters.shard]
topup.threshold = "10T"
topup.amount = "5T"


# ================================================================
#  GENERAL SUBNET
# ================================================================
[subnets.general]

# --- Blank Canister ---
[subnets.general.canisters.blank]
